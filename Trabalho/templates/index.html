<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Streaming</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function toggleTemporadaEpisodio() {
            const genero = document.getElementById('genero').value;
            const campos = document.getElementById('temporada-episodio');
            if(genero === 'S√©rie' || genero === 'Anime'){
                campos.style.display = 'flex';
            } else {
                campos.style.display = 'none';
            }
        }
    </script>
</head>
<body>
<header><h1>üé• Plataforma de Streaming</h1></header>

<main>
<section class="destaque">
    <h2>‚≠ê Destaques</h2>
    <ul>
        {% for midia in destaque %}
            <li>
                {{ midia.descricao() }}
                <div class="acoes">
                    <a href="{{ url_for('remover_destaque', indice=loop.index0) }}" class="btn remover">‚ùå Remover do Destaque</a>
                </div>
            </li>
        {% else %}
            <li>Sem destaques.</li>
        {% endfor %}
    </ul>
</section>

<section class="disponiveis">
    <h2>üìö Dispon√≠veis</h2>
    <ul>
        {% for midia in disponiveis %}
            <li>
                {{ midia.descricao() }}
                <div class="acoes">
                    <a href="{{ url_for('destacar', indice=loop.index0) }}" class="btn destaque">‚≠ê Destacar</a>
                    <a href="{{ url_for('remover', indice=loop.index0) }}" class="btn remover">‚ùå Remover</a>
                </div>
            </li>
        {% else %}
            <li>Sem m√≠dias dispon√≠veis.</li>
        {% endfor %}
    </ul>
</section>

<section class="adicionar-midia">
    <h2>‚ûï Adicionar M√≠dia</h2>
    <form method="POST" action="{{ url_for('adicionar_midia') }}">
        <input type="text" name="titulo" placeholder="T√≠tulo" required>
        <select name="genero" id="genero" onchange="toggleTemporadaEpisodio()" required>
            <option value="">Selecione o g√™nero</option>
            <option value="Filme">Filme</option>
            <option value="S√©rie">S√©rie</option>
            <option value="Anime">Anime</option>
        </select>
        <input type="number" name="avaliacao" placeholder="Nota (0-10)" step="0.1" min="0" max="10" required>
        <input type="number" name="ano" placeholder="Ano" required>
        <input type="text" name="idioma" placeholder="Idioma" required>

        <div id="temporada-episodio" style="display:none; gap:10px;">
            <input type="number" name="temporada" placeholder="Temporada" min="1">
            <input type="number" name="episodio" placeholder="Epis√≥dio" min="1">
        </div>

        <button type="submit">Adicionar M√≠dia</button>
    </form>
</section>
</main>
</body>
</html>
